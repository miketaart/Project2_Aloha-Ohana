<form action="/signup" method="POST">
    <p id="available"></p>
    <input type="email" required name="email" placeholder="Email">
    <input id="username" type="text" required name="username" placeholder = "What should we call you?">
    <input type="password" required name="password" placeholder = "Password">
    <p>Choose your user profile:</p>
    <input type="radio" name="role" value="tourist" required>
    <label for="role">Tourist</label>
    <input type="radio" name="role" value="guide" required>
    <label for="role">Guide</label>

    <button type="submit">Sign up</button>
</form>

<script>
    let $form = document.getElementsByTagName("form")[0];
    document.getElementById("username").addEventListener("blur", (event)=>{
        let usernameInputValue = event.target.value;
        axios.get(`/authorization/username-availability/${usernameInputValue}`)
            .then((response)=> {
                let $p = document.getElementById("available");
                if(response.data.available) $p.innerHTML = "Username available";
                else $p.innerHTML = "Username unavailable";
            })
            .catch((error)=> {
                // do some dom manipulation based on error
            })
    })

</script>